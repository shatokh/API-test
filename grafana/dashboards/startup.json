{
  "uid": "artillery-startup",
  "title": "Artillery Load Test Overview",
  "schemaVersion": 41,
  "version": 1,
  "refresh": "5s",
  "style": "dark",
  "timezone": "browser",
  "time": { "from": "now-5m", "to": "now" },
  "annotations": { "list": [] },
  "templating": { "list": [] },
  "panels": [
    {
      "type": "text",
      "mode": "markdown",
      "gridPos": { "h": 8, "w": 24, "x": 0, "y": 0 },
      "id": 1,
      "title": "üìñ Documentation",
      "content": "## Artillery + Prometheus Metrics Overview\n\n–≠—Ç–æ—Ç –¥–∞—à–±–æ—Ä–¥ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Prometheus:\n\n---\n\n### üéØ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (VUs)\n```promql\nmax(artillery_vu_count)\n```\n–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —á–∏—Å–ª–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.\n\n### ‚ö°Ô∏è RPS (Requests per Second)\n```promql\nrate(http_requests_total[1m])\n```\n–°–º–µ—â–µ–Ω–∏–µ –∑–∞ 1 –º–∏–Ω—É—Ç—É; –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É.\n\n### ‚ùå –û—à–∏–±–∫–∏ –≤ %\n```promql\n(rate(http_request_errors_total[1m]) / rate(http_requests_total[1m])) * 100\n```\n–ü—Ä–æ—Ü–µ–Ω—Ç –Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–∫–æ–¥ ‚â•500).\n\n### ‚è± –õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å\n- **p50** (–º–µ–¥–∏–∞–Ω–∞):\n```promql\nhistogram_quantile(0.50, sum(rate(http_request_duration_seconds_bucket[1m])) by (le))\n```\n- **p95**:\n```promql\nhistogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket[1m])) by (le))\n```\n\n### üìà –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏\n- **http_req_duration_seconds_bucket** ‚Äì –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫\n- **http_request_length_bytes_sum** –∏ **http_response_length_bytes_sum** ‚Äì –æ–±—ä—ë–º —Ç—Ä–∞—Ñ–∏–∫–∞\n- **artillery_scenario_failures_total** ‚Äì —á–∏—Å–ª–æ —É–ø–∞–≤—à–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤\n\n---\n\n–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–æ—Ä–º—É–ª–µ ‚Äì —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—ã–π PromQL –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤ –≤—ã—à–µ.\n"
    },
    {
      "type": "timeseries",
      "title": "Active Virtual Users",
      "gridPos": { "h": 7, "w": 6, "x": 0, "y": 7 },
      "id": 2,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "max(artillery_vu_count) or vector(0)",
          "refId": "A",
          "legendFormat": "Active VUs"
        }
      ],
      "fieldConfig": {
        "defaults": { "unit": "none", "custom": {} },
        "overrides": []
      },
      "options": {
        "tooltip": { "mode": "single" },
        "legend": { "displayMode": "list", "placement": "bottom" }
      }
    },
    {
      "type": "timeseries",
      "title": "Requests per Second",
      "gridPos": { "h": 7, "w": 6, "x": 6, "y": 7 },
      "id": 3,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "rate(http_requests_total[1m])",
          "refId": "A",
          "legendFormat": "RPS"
        }
      ],
      "fieldConfig": {
        "defaults": { "unit": "reqps", "custom": {} },
        "overrides": []
      },
      "options": {
        "tooltip": { "mode": "single" },
        "legend": { "displayMode": "list", "placement": "bottom" }
      }
    },
    {
      "type": "timeseries",
      "title": "Error Rate (%)",
      "gridPos": { "h": 7, "w": 6, "x": 12, "y": 7 },
      "id": 4,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "rate(http_request_errors_total[1m]) / rate(http_requests_total[1m]) * 100",
          "refId": "A",
          "legendFormat": "Error Rate (%)"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "percent",
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "red", "value": 5 }
            ]
          },
          "custom": {}
        },
        "overrides": []
      },
      "options": {
        "tooltip": { "mode": "single" },
        "legend": { "displayMode": "list", "placement": "bottom" }
      }
    },
    {
      "type": "timeseries",
      "title": "Latency (p50 & p95)",
      "gridPos": { "h": 7, "w": 6, "x": 18, "y": 7 },
      "id": 5,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "histogram_quantile(0.50, sum(rate(http_request_duration_seconds_bucket[1m])) by (le))",
          "refId": "A",
          "legendFormat": "p50"
        },
        {
          "expr": "histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket[1m])) by (le))",
          "refId": "B",
          "legendFormat": "p95"
        }
      ],
      "fieldConfig": {
        "defaults": { "unit": "s", "custom": {} },
        "overrides": []
      },
      "options": {
        "tooltip": { "mode": "single" },
        "legend": { "displayMode": "list", "placement": "bottom" }
      }
    }
  ]
}
